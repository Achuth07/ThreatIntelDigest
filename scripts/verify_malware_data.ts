
import { getDb } from '../server/db';
import { sql } from 'drizzle-orm';
import * as dotenv from 'dotenv';
dotenv.config();

async function verifyMalwareData() {
    const db = getDb();
    console.log("Checking malware_daily_stats...");

    try {
        const result = await db.execute(sql`SELECT COUNT(*) as count FROM malware_daily_stats`);
        console.log("Row count:", result.rows[0]);

        const sample = await db.execute(sql`SELECT * FROM malware_daily_stats LIMIT 5`);
        console.log("Sample data:", sample.rows);
    } catch (error) {
        console.error("Error querying table:", error);
    }
    process.exit(0);
}

verifyMalwareData();
